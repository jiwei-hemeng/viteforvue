import{r as l}from"./index-cdd053c8.js";const i="https://www.bilibili.com";function p({method:a="GET",url:t,data:r,headers:s=new Headers({"Content-Type":"application/json;charset=utf-8"}),responseType:c="json"}){return new Promise((n,o)=>{try{t=i+t;let u=null;a!=="GET"&&(u=JSON.stringify(r)),fetch(t,{method:a,headers:s,body:u}).then(e=>{if(e.ok)return c==="json"?e.json():e.blob();o(e)}).then(e=>{e.code==="401"?(l.push("/about"),o(e.message)):n(e)}).catch(e=>o(e))}catch(u){o(u)}})}const _=["onClick"],h={__name:"menuList",props:{list:{type:Array,required:!0}},emits:["changePage"],setup(a,{emit:t}){const r=a;function s(c){t("changePage",c.path)}return(c,n)=>(Vue.openBlock(),Vue.createElementBlock("div",null,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r.list,(o,u)=>(Vue.openBlock(),Vue.createElementBlock("div",{key:u,onClick:e=>s(o)},Vue.toDisplayString(o.name),9,_))),128))]))}},m=Vue.createElementVNode("div",null,"编程式导航",-1),g={__name:"HomeView",async setup(a){let t,r;const s=VueRouter.useRouter();try{const n=([t,r]=Vue.withAsyncContext(()=>p({url:"/index/recommend.json"})),t=await t,r(),t);console.log("相应结果",n)}catch(n){console.log(n)}function c(n){s.push(n)}return(n,o)=>(Vue.openBlock(),Vue.createElementBlock("div",null,[m,Vue.createVNode(h,{list:[{name:"About",path:"/about"}],onChangePage:c})]))}};export{g as default};
